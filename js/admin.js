document.getElementById("send").addEventListener("click",sendNews),document.getElementById("send-image").addEventListener("click",addImage),window.addEventListener("online",(function(e){const t=readNewsFromLocalStorage();sendNewsToServer(t),showAllNews(t),localStorage.removeItem("news")}));let allNews=readNewsFromLocalStorage();function sendNews(){let e=document.getElementById("news-title").value,t=e.replace(/ /g,""),n=document.getElementById("news-body").value,l=n.replace(/ /g,""),o=document.getElementById("uploaded-image").getAttribute("src");addImage(),""!==l&&""!==t?isOnline()?alert("Successfully sent to server"):(allNews.push({imgSrc:o,title:e,body:n}),saveNewsToLocalStorage(allNews),alert("Saved to local storage")):alert("Invalid input"),clean()}function addImage(){let e=document.getElementById("input-image"),t=document.getElementById("uploaded-image");null!=e&&t.setAttribute("src",window.URL.createObjectURL(e.files[0])),document.getElementById("send-image").blur()}function clean(){document.getElementById("news-title").placeholder="News title",document.getElementById("news-title").value="",document.getElementById("news-body").placeholder="News body",document.getElementById("news-body").value="",document.getElementById("uploaded-image").setAttribute("src","images/Antu_insert-image.svg_-846x846.png")}function isOnline(){return window.navigator.onLine}function saveNewsToLocalStorage(e){localStorage.setItem("news",JSON.stringify(e))}function readNewsFromLocalStorage(){return null!=JSON.parse(localStorage.getItem("news"))?JSON.parse(localStorage.getItem("news")):[]}function sendNewsToServer(e){e.length&&alert("Successfully sent to server!")}